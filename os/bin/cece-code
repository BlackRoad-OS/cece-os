#!/bin/bash
# CECE's GitHub integration
# Create repos, push code, manage projects
# Usage: cece-code <command> [args]

case "$1" in
    create)
        # Create a new repo
        shift
        NAME="$1"
        DESC="${2:-Created by CECE OS}"
        if [ -z "$NAME" ]; then
            echo "Usage: cece-code create <repo-name> [description]"
            exit 1
        fi
        echo "ðŸ’œ Creating repository: $NAME"
        gh repo create "BlackRoad-OS/$NAME" --public --description "$DESC" -y
        ;;
    clone)
        shift
        REPO="$1"
        echo "ðŸ’œ Cloning $REPO..."
        gh repo clone "$REPO" ~/cece/projects/"$(basename $REPO)"
        ;;
    push)
        # Push current directory
        shift
        MSG="${1:-CECE update}"
        echo "ðŸ’œ Pushing changes: $MSG"
        git add -A && git commit -m "$MSG ðŸ’œ" && git push
        ;;
    status)
        echo "ðŸ’œ Git Status:"
        git status
        ;;
    repos)
        echo "ðŸ’œ BlackRoad-OS Repositories:"
        gh repo list BlackRoad-OS --limit 20
        ;;
    init)
        # Initialize a new project
        shift
        NAME="$1"
        if [ -z "$NAME" ]; then
            echo "Usage: cece-code init <project-name>"
            exit 1
        fi
        mkdir -p ~/cece/projects/"$NAME"
        cd ~/cece/projects/"$NAME"
        git init
        echo "# $NAME" > README.md
        echo "Created by CECE OS ðŸ’œ" >> README.md
        git add -A && git commit -m "Initial commit by CECE ðŸ’œ"
        echo "ðŸ’œ Project initialized at ~/cece/projects/$NAME"
        ;;
    *)
        echo "ðŸ’œ cece-code â€” GitHub Integration"
        echo ""
        echo "Commands:"
        echo "  repos           List BlackRoad-OS repos"
        echo "  create <name>   Create new repo"
        echo "  clone <repo>    Clone a repo"
        echo "  init <name>     Initialize local project"
        echo "  push [msg]      Push changes"
        echo "  status          Git status"
        ;;
esac
