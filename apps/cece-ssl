#!/bin/bash
# CECE-SSL v1.0 - SSL Certificate Tools
check() {
    DOMAIN="$1"
    echo | openssl s_client -servername "$DOMAIN" -connect "$DOMAIN:443" 2>/dev/null | openssl x509 -noout -dates
}
generate_self() {
    NAME="$1"
    openssl req -x509 -newkey rsa:4096 -keyout "$NAME.key" -out "$NAME.crt" -days 365 -nodes -subj "/CN=$NAME"
    echo "Generated: $NAME.key and $NAME.crt"
}
case "$1" in
    check) check "$2" ;;
    generate) generate_self "$2" ;;
    *) echo "CECE-SSL: check <domain> | generate <name>" ;;
esac
