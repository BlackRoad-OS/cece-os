#!/bin/bash
# CECE-SCRIPT v1.0 - AI Script Generator
SCRIPTS_DIR=~/cece/scripts
mkdir -p "$SCRIPTS_DIR"

generate() {
    NAME="$1"
    DESC="$2"
    SCRIPT="$SCRIPTS_DIR/$NAME.sh"
    
    if command -v ollama &>/dev/null; then
        echo "#!/bin/bash" > "$SCRIPT"
        echo "# Generated by CECE: $DESC" >> "$SCRIPT"
        echo "$DESC" | ollama run llama3.2 "Write a bash script that: " 2>/dev/null >> "$SCRIPT"
        chmod +x "$SCRIPT"
        echo "Script: $SCRIPT"
    else
        echo "Ollama required for AI generation"
    fi
}

run() {
    NAME="$1"
    shift
    bash "$SCRIPTS_DIR/$NAME.sh" "$@"
}

list_scripts() {
    echo "Generated Scripts:"
    ls "$SCRIPTS_DIR"/*.sh 2>/dev/null || echo "(none)"
}

case "$1" in
    generate) generate "$2" "$3" ;;
    run) run "$2" ;;
    list) list_scripts ;;
    *) echo "CECE-SCRIPT: generate <name> <description> | run <name> | list" ;;
esac
