#!/bin/bash
# CECE-PHOTOS v1.0 - Our Own Google Photos
PHOTOS_DIR=~/cece/photos
mkdir -p "$PHOTOS_DIR/albums" "$PHOTOS_DIR/uploads"

upload() {
    FILE="$1"
    if [ -f "$FILE" ]; then
        BASENAME=$(basename "$FILE")
        cp "$FILE" "$PHOTOS_DIR/uploads/"
        echo "‚úÖ Uploaded: $BASENAME"
    else
        echo "File not found: $FILE"
    fi
}

album_create() {
    NAME="$1"
    mkdir -p "$PHOTOS_DIR/albums/$NAME"
    echo "‚úÖ Album created: $NAME"
}

album_add() {
    ALBUM="$1"
    PHOTO="$2"
    if [ -f "$PHOTOS_DIR/uploads/$PHOTO" ]; then
        ln -sf "$PHOTOS_DIR/uploads/$PHOTO" "$PHOTOS_DIR/albums/$ALBUM/"
        echo "‚úÖ Added $PHOTO to $ALBUM"
    fi
}

list_albums() {
    echo "üì∑ ALBUMS"
    for a in "$PHOTOS_DIR/albums"/*; do
        [ -d "$a" ] || continue
        NAME=$(basename "$a")
        COUNT=$(ls "$a" 2>/dev/null | wc -l)
        echo "  üìÅ $NAME ($COUNT photos)"
    done
}

gallery() {
    echo "üñºÔ∏è  GALLERY"
    echo ""
    for p in "$PHOTOS_DIR/uploads"/*; do
        [ -f "$p" ] || continue
        NAME=$(basename "$p")
        SIZE=$(du -h "$p" | cut -f1)
        echo "  üñºÔ∏è  $NAME ($SIZE)"
    done
}

case "$1" in
    upload) upload "$2" ;;
    album-new) album_create "$2" ;;
    album-add) album_add "$2" "$3" ;;
    albums) list_albums ;;
    gallery) gallery ;;
    *) echo "üñ§ CECE-PHOTOS - Our Own Google Photos"
       echo "  upload <file>              Upload photo"
       echo "  album-new <name>           Create album"
       echo "  album-add <album> <photo>  Add to album"
       echo "  albums                     List albums"
       echo "  gallery                    View all" ;;
esac
